# Memory System

<!--
TEMPLATE INSTRUCTIONS:
1. Replace [DOMAIN] with your specific domain
2. Customize knowledge types for your context
3. Adjust memory operations to fit your workflow
4. Remove this instruction block when done
-->

The memory system preserves knowledge across iterations, enabling compound learning.

---

## Philosophy

Every iteration teaches something. Memory ensures those lessons aren't lost.

### Core Principles

| Principle | Meaning |
|-----------|---------|
| **Nothing is lost** | Every discovery gets captured |
| **Everything connects** | Knowledge links to outcomes |
| **Patterns emerge** | Repeated observations become heuristics |
| **System reflects** | Regular meta-analysis of learning |

---

## Memory Architecture

### Document Hierarchy

```
docs/
├── MEMORY.md       # This file: how memory works
├── LEARNING.md     # Long-term knowledge
├── METRICS.md      # Quantitative tracking
├── EVOLUTION.md    # Self-improvement
├── LOOP.md         # Iteration process
├── OUTPUTS.md      # Quality-rated results
└── ISSUES.md       # Problems and solutions
```

### Memory Flow

```
OBSERVE ──→ CAPTURE ──→ CONNECT ──→ VALIDATE ──→ APPLY
   │           │           │           │           │
   ▼           ▼           ▼           ▼           ▼
See what   Record in   Link to     Confirm    Use for
happened   LEARNING    existing    pattern    decisions
```

---

## Knowledge Types

### 1. Factual Knowledge
Objective truths discovered through experimentation.

**Format**:
```markdown
- **[Discovery]**: [Description]
  - First observed: [iteration/context]
  - Confirmed by: [subsequent validations]
  - Conditions: [when this applies]
```

### 2. Procedural Knowledge
Methods and processes that work.

**Format**:
```markdown
### [Task Name]
**Steps**:
1. [Step one]
2. [Step two]
**Key insight**: [Critical understanding]
**Avoid**: [Common mistakes]
```

### 3. Heuristic Knowledge
Rules of thumb from patterns.

**Format**:
```markdown
### [Heuristic Name]
**Rule**: [The heuristic]
**Confidence**: [High/Medium/Low]
**Based on**: [Number of observations]
**Exceptions**: [When it doesn't apply]
```

### 4. Anti-Knowledge
What doesn't work and why.

**Format**:
```markdown
### [Anti-Pattern Name]
**Avoid**: [What not to do]
**Why it fails**: [Root cause]
**Instead**: [What to do instead]
```

---

## Knowledge Levels

Track confidence in each piece of knowledge:

| Level | Symbol | Meaning | Criteria |
|-------|--------|---------|----------|
| Principle | [P] | High confidence, understood causally | 5+ confirmations, mechanism clear |
| Pattern | [*] | Reliable heuristic | 3+ confirmations |
| Observation | [-] | Single data point | 1 confirmation |
| Hypothesis | [?] | Untested idea | 0 confirmations |

### Promotion Path
```
Hypothesis [?] ──→ Observation [-] ──→ Pattern [*] ──→ Principle [P]
     │                   │                  │                │
     └───────────────────┴──────────────────┴────────────────┘
              (Confirmation promotes, contradiction demotes)
```

---

## Memory Operations

### Capture (Every Iteration)

After each iteration:

```markdown
## Iteration [N] Capture

### Discoveries
- [What was learned]

### Confirmations
- [Previous knowledge validated]

### Contradictions
- [Previous beliefs challenged]

### Questions
- [New questions raised]

### Metrics
- [Quantitative outcomes]
```

### Connect (Regularly)

Link new knowledge to existing:
1. What does this relate to?
2. Does this strengthen or weaken existing beliefs?
3. What patterns are emerging?

### Validate (Every [N] Iterations)

During retrospectives:
1. Which observations are ready for promotion?
2. Any contradictions to resolve?
3. Any outdated knowledge to prune?

### Apply (Every Iteration)

Before acting:
1. What does LEARNING.md say about this?
2. What patterns apply?
3. What anti-patterns should I avoid?

---

## Memory Hygiene

### Maintenance Schedule

| Frequency | Activity |
|-----------|----------|
| Every iteration | Capture new learnings |
| Every [N] iterations | Connect and validate |
| Every [M] iterations | Consolidate and prune |

### Knowledge Decay

Not all knowledge stays valid. Mark knowledge with expected lifetime:
- **Permanent**: Core principles
- **Stable**: Domain knowledge
- **Contextual**: May change with conditions
- **Ephemeral**: Session-specific

---

## Integration

### With LOOP.md
- Before iteration: Consult memory
- During iteration: Capture observations
- After iteration: Update memory

### With METRICS.md
- Quantitative validation of patterns
- Trend data for knowledge confidence

### With EVOLUTION.md
- Meta-analysis of learning effectiveness
- Improvement of memory system itself

---

## Memory Queries

Questions to ask regularly:

- What do I know that applies here?
- What have I tried before?
- What patterns predict success?
- What anti-patterns should I avoid?
- Where am I uncertain?

---

## The Memory Imperative

**The goal: Each iteration benefits from every previous iteration.**

Memory is not optional overhead—it is the mechanism of intelligence.
